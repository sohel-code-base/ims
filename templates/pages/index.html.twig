{% extends 'base.html.twig' %}

{% block stylesheets %}
  {{ parent() }}
{#  <link rel="stylesheet" href="{{ asset('css/datatable/dataTables.bootstrap5.min.css') }}">#}
  <link rel="stylesheet" href="{{ asset('css/datatable/dataTables.bootstrap4.min.css') }}">
  <link rel="stylesheet" href="{{ asset('css/datatable/buttons.bootstrap4.min.css') }}">
  <link rel="stylesheet" href="{{ asset('css/jquery-ui.min.css') }} ">
  <link rel="stylesheet" href="{{ asset('css/jquery-ui.theme.min.css') }} ">
  <style>
    select {
      background: #03045e url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3e%3cpath fill='white' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px !important;
    }
/*    select option{
      background: #03045e;
    }*/
  </style>

{% endblock %}
{% block body %}
  {% include 'inc/nav.html.twig' %}
  <!-- Navbar -->
{#  <nav>#}
{#    <h1 class="h1 border-5 border-bottom border-warning text-white text-center position-sticky top-0" style="box-shadow: 0 -3px 15px 0px #000000fa; background: #03045e; z-index: 99">Store Management System<i class="fas fa-store"></i></h1>#}
{#  </nav>#}

  <div class="container-fluid pt-2">
    <div class="row">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header bg-success">
            <h3 class="card-title"><i class="fas fa-th-list mr-1"></i>All Products</h3>
          </div>
          <!-- /.card-header -->
          <div class="card-body">
            <table id="productTable" class="table table-dark table-bordered">
              <thead class="table-dark">
              <tr>
                <th>{{ 'S/N'|trans }}</th>
                <th>{{ 'Products Name'|trans }}</th>
                <th>{{ 'Quantity'|trans }}</th>
                <th>{{ 'Purchase Date'|trans }}</th>
                <th>{{ 'Action'|trans }}</th>
              </tr>
              </thead>
              <tbody>
              {% for product in products %}
                <tr>
                  <td class="p-0 text-center" width="50">{{ loop.index|trans }}</td>
                  <td class="p-0">{{ product.name }}</td>
                  <td class="p-0 text-center">{{ product.quantity }}</td>
                  <td class="p-0">{{ product.purchaseDate|date('d/m/Y') }}</td>
                  <td class="p-0">
                    <div class="btn-group btn-group-sm">
                      <a href="" class="btn btn-sm"><i class="fas fa-eye text-success"></i></a>
                      <a href="" class="btn btn-sm"><i class="fas fa-edit text-warning"></i></a>
                      <a href="" class="btn btn-sm "><i class="fas fa-trash text-danger"></i></a>
                    </div>
                  </td>
                </tr>
              {% endfor %}
              </tbody>
              <tfoot>
              <tr>
                <th>{{ 'S/N'|trans }}</th>
                <th>{{ 'Products Name'|trans }}</th>
                <th>{{ 'Quantity'|trans }}</th>
                <th>{{ 'Purchase Date'|trans }}</th>
                <th>{{ 'Action'|trans }}</th>
              </tr>
              </tfoot>
            </table>
          </div>
          <!-- /.card-body -->
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <div class="card-header bg-success">
            <h3 class="card-title"><i class="fas fa-plus-square mr-1"></i>Add Products</h3>
          </div>
          <!-- /.card-header -->
          <div class="card-body">
            {% for messages in app.flashes %}
              {% for message in messages %}
                <div class="alert alert-primary alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              {% endfor %}
            {% endfor %}
            {{ form_start(form) }}

            {{ form_label(form.name,  'Name :') }}
            {{ form_widget(form.name,{'attr':{'style': 'background: #03045e; color: #fff'}}) }}
            {{ form_help(form.name) }}

            <div class="row g-3 mt-2 mb-3">
              <div class="col-md-6">
                {{ form_label(form.quantity,'Quantity :') }}
                {{ form_widget(form.quantity,{'attr':{'style': 'background: #03045e; color: #fff'},'type': 'number'}) }}
                {{ form_help(form.quantity) }}
              </div>
              <div class="col-md-6">
                {{ form_label(form.purchaseDate, 'Purchase Date:') }}
                {{ form_widget(form.purchaseDate,{'id':'datepicker','attr':{'style': 'background: #03045e; color: #fff','class':'fas fa-calendar-alt'}}) }}
                {{ form_help(form.purchaseDate) }}
              </div>
            </div>
            <div class="row g-3 mb-3">
              <div class="col-md-6">
                {{ form_label(form.category, 'Category :') }}
                {{ form_widget(form.category,{'attr':{'class':'form-select','style': 'background: #03045e; color: #fff'}}) }}
              </div>
              <div class="col-md-6">
                {{ form_label(form.productType, 'Type:') }}
                {{ form_widget(form.productType,{'attr':{'class':'form-select','style': 'background: #03045e; color: #fff'}}) }}
              </div>
            </div>
            <div class="row g-3 mb-3">
              <div class="col-md-6">
                <img src="" alt="ProductImage">
              </div>
              <div class="col-md-6">
                {{ form_widget(form.image) }}
                {{ form_help(form.image) }}
              </div>
            </div>
            <div class="d-grid gap-2 mb-1">
              {{ form_widget(form.save,{'attr':{'class': 'btn-warning bg-gradient'}}) }}
            </div>
          </div>
          <!-- /.card-body -->
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <!-- Main Footer -->
        <footer class="main-footer ml-0">
          <strong>Copyright &copy; {{ 'now'|date('Y') }}.</strong>
          All rights reserved.
          <div class="float-right d-none d-sm-inline-block">
            <b>Developed By</b> <a href="https://www.linkedin.com/in/md-sohel-rana-8202a4134/">Sohel</a>
          </div>
        </footer>
      </div>
    </div>
  </div>

{% endblock %}
{% block javascripts %}
  {{ parent() }}
  <!-- DataTables  & Plugins -->
  <script src="{{ asset('js/datatable/jquery.dataTables.min.js') }}"></script>
  <script src="{{ asset('js/datatable/dataTables.bootstrap4.min.js') }}"></script>
  <script src="{{ asset('js/datatable/dataTables.buttons.min.js') }}"></script>
  <script src="{{ asset('js/datatable/buttons.bootstrap4.min.js') }}"></script>
  <script src="{{ asset('js/datatable/jszip.min.js') }}"></script>
  <script src="{{ asset('js/datatable/pdfmake.min.js') }}"></script>
  <script src="{{ asset('js/datatable/vfs_fonts.js') }}"></script>
  <script src="{{ asset('js/datatable/buttons.html5.min.js') }}"></script>
  <script src="{{ asset('js/datatable/buttons.print.min.js') }}"></script>
  <script src="{{ asset('js/datatable/buttons.colVis.min.js') }}"></script>
  

  <!-- Page specific script -->
  <script>
    $(function () {
      $("#productTable").DataTable({
        "responsive": false, "lengthChange": false, "autoWidth": true,
        "buttons": ["copy", "csv", "excel", "pdf", "print"]
      }).buttons().container().appendTo('#productTable_wrapper .col-md-6:eq(0)');
    });
  </script>
  <script src="{{ asset('js/jquery-ui.min.js') }}"></script>
  <script>
    $( function() {
      $( "#datepicker" ).datepicker({
        dateFormat: 'dd-mm-yy',
        "lengthChange": false,
      });
      $("#datepicker").datepicker("option", "showAnim", 'blind');
    } );
  </script>
{% endblock %}
